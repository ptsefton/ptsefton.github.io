
<html>
<head>
    <title>ptsefton.com :: Research Data Australia down to Earth</title>
<style>
.header {
  background-color: #ff00ff;
  border-color: #b72bc0;
  color: #ffff00;
  padding-top: 12pt;
  padding-bottom: 12pt;
  font-family: monospace;
}




/* unvisited link */
a:link {
    color: #FF00FF;
}

.header a:link {
    color: #FFFF00;
    text-decoration: none; 
}

button {
    color: #ffff00;
    background-color: #ff00ff;
    font-family: monospace;
}

/* visited link */
a:visited {
    color: #FF00AA;
}

.header a:visited {
    color: #FFFF00;
}

h1, h2 {
    color: # FF00FF
}

/* mouse over link */
a:hover {
    color: #FF00AA;
}

/* selected link */
a:active {
    color: #0000FF;
}

a {
    text-decoration: none; 
}

img {
    max-width: 100%;
    display: block;
    margin-left: auto;
    margin-right: auto;
}
section img {
    width: 100%
}

td, th {
    padding-top: 20px;
    padding-right: 20px;
    vertical-align: top;
    text-align: left;
}

.content {
	font-family: Verdana, system-ui, Helvetica, sans-serif;
    line-height: 1.8em;
    }


.caption {
    text-align: center;
    background-color: rgba(255, 0, 255, 0.2); 
    padding-left: 5%;
    padding-right: 5%;
    padding-top: 2%;
    padding-bottom: 2%;
}

blockquote {
    font-style: italic;
    font-weight: bold;
    color: #FF00FF;

    background-color: rgba(255, 255, 0, 0.2); 
    padding-left: 5%;
    padding-right: 5%;
    padding-top: 2%;
    padding-bottom: 2%;
}


@media  screen and (min-width:  900px) {
    .content, .header {
        width: 60%;
        padding-left: 20%;
        padding-right: 30%;
    }
    .row {
    display: grid;
    grid-template-columns: 75% 25%;
}
    
}

@media  screen and (min-width: 1200px) {
    .content, .header {
        width: 55%;
        padding-left: 20%;
        padding-right: 30%;
    }
    .row {
        display: grid;
        grid-template-columns: 75% 25%;
}
    
}


.date {
      font-style: italic;
}

.cat p {
        line-height: 1em;
}

</style>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-898010-1', 'auto');
  ga('send', 'pageview');
</script>
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6JNHBJL67Q"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-6JNHBJL67Q');
</script>

<body>
    <div class="header">
        <h2><a href="/">[ptsefton.com]</a> | <a href="/Pages/cv.html"> [CV & Bio] </a></h2>
    </div>


    <div class="content">
        <h1> 
        Research Data Australia down to Earth 
        </h1>
        <h2>2012-06-22 </h2>

        <article itemscope="itemscope" itemtype="http://schema.org/ScholarlyArticle">
<section>
<h2>Context: free cloud servers, a workshop and an idea</h2>
<p>In this post I look at some work we’ve been doing at the University of
Western Sydney eResearch group on visualizing metadata about research
data, in a geographical context. The goal is to build a data discovery
service; one interface we’re exploring is the ability to ‘fly’ around
Google Earth looking for data, from <a href="http://services.ands.org.au/home/orca/rda/search">Research Data
Australia</a> (RDA). For
example, a researcher could follow a major river and see what data
collections there are along its course that might be of (re-)use. True,
you can <a href="http://services.ands.org.au/home/orca/rda/search#!/q=*%3A*/p=1/tab=All/n=-79.632238/e=167.042438/s=-64.643345/w=103.761188">search the RDA site by dragging a marker on a
map</a>
but this experiment is a more immersive approach to exploring the same
data.</p>
<p>The post is a quick update on a work in progress, with some not very
original reflections on the use of cloud servers. I am putting it here
on my own blog first, will do a human-readable summary over at UWS soon,
any suggestions or questions welcome.</p>
<p>You can try this out if you have Google Earth by <a href="http://eresearch.uws.edu.au/geo/rda.kml">downloading a KML
file</a>. This is a demo service
only – let us know how you go.</p>
<p>This work was inspired by a workshop on cloud computing: this week
Andrew (Alf) Leahy and I  attended  a
<a href="http://nectar.org.au/">NeCTAR</a><span
class="apple-converted-space"> </span>and Australian National Data
Service (ANDS) one day event, along with several UWS staff. The
unstoppable David Flanders from ANDS asked us to run a ‘dojo’, giving
technically proficient researchers and eResearch collaborators a hand-on
experience with the NeCTAR research cloud, where all Australian
University researchers with access to the Australian Access Federation
login system are entitled to run free cloud-hosted virtual servers. Free
servers! Not to mention post-workshop beer<a href="#_edn1"><sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>^</a>. So senseis
Alf and and PT  worked with a small group of ‘black belts’ in a workshop
loosely focused on geo-spatial data. Our idea was “Visualizing the
distribution of data collections in Research Data Australia using Google
Earth”<a href="#_edn2"><sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>^</a>. We’d been working on a demo of how this might be
done for a few days, which we more-or less got running on the train from
the Blue Mountains in to Sydney Uni in the morning.</p>
</section>
<section>
<h2>The demo</h2>
<p>We will work some more on this little very part-time project, but here’s
a snapshot of where we are at the moment with our mission of getting RDA
data into Google Earth.</p>
<p><a href="/wp-content/uploads/2012/06/image0011.png"><img src="/wp-content/uploads/2012/06/image0011.png" alt="" title="image001"></a></p>
<p>Figure 1 Screenshot of data sets from Research Data Australia mapped
onto the earth (visualized via their bounding boxes from the data
collection metadata) from a long way up (the sets with the (claimed)
broadest geographical coverage show up first, more appear as you zoom
in)</p>
<p>Right now the experience is basic, but engaging, just using the geometry
provided in RDA collections and without changing any of the default ANDS
styles you can see a ‘heat map’ of where data have been collected.
Speaking of heat it seems Aussie researchers prefer the more northerly
latitudes to the South pole, as a place to take a few readings, or catch
<a href="http://services.ands.org.au/home/orca/rda/view/?key=AODN%3A516811d7-cc5c-207a-e0440003ba8c79dd">a few
rays</a>.</p>
<p><a href="/wp-content/uploads/2012/06/image004.jpg"><img src="/wp-content/uploads/2012/06/image004.jpg" alt="" title="image004"></a>&gt;</p>
<p>Figure 2 Zooming in on research hotspots like The Reef shows how crowded
it is there – we’re limiting this to 40 boxes or points per screen, so
keep drilling to find more</p>
<p><a href="/wp-content/uploads/2012/06/image005.png"><img src="/wp-content/uploads/2012/06/image005.png" alt="" title="image005"></a></p>
<p>Figure 3 You can click on a marker to pull up a description</p>
</section>
<section>
<h2>Why?</h2>
<p>Why are we doing this?</p>
<ul>
<li>
<p>To <strong>test out the NeCTAR Research Cloud</strong>, so we can advise
researchers at UWS on how and when to use it – we’ll cover this in
future posts and publish advice on the UWS eResearch site. Initial
observations include:</p>
<ul>
<li>
<p>It’s good for testing out ideas quickly – you can fire up a
tool, pull in data from a networked source and do something to
it, but some planning is required to package the tools and get
them to operate as turnkey appliances. At the moment you need
command-line skills and patience.</p>
</li>
<li>
<p>This infrastructure is a game-changer – it can take months for
university IT departments to deliver a virtual machine to a
research or dev group and policy prevents many of us from buying
commercial cloud services on corporate credit cards.</p>
</li>
<li>
<p>The lack of easy-to access persistent cloud storage which had
not yet come on line from NeCTAR’s sister project <a href="http://www.google.com.au/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;ved=0CFcQFjAA&amp;url=http%3A%2F%2Frdsi.uq.edu.au%2F&amp;ei=ys_jT4foJ9HKmQXkrPSMCw&amp;usg=AFQjCNEPdhhaRjWkTW91_E0p8v_nm24GzA&amp;sig2=kasKimfJKr70JzioZSauKQ">Research Data
Storage
Infrastructure</a>
RSDSI is a bit of a problem, there is no simple way to mount a
device with all your data on it.</p>
</li>
<li>
<p>A specific lesson from our demo: being able to fire up servers
on demand to handle peak loads, such as building a big
geo-spatial index (we only built a tiny one) seems promising but
we’d like to see this made as easy as possible for people who
want to get research done rather than mess with computers.</p>
</li>
</ul>
</li>
<li>
<p>To see how Alf’s considerable expertise in <strong>practical, easy to
deploy low-end visualization combined with my experience in
repositories, harvesting metadata etc might be applied to resource
discovery</strong>. Being able to fly around the landscape means you can
follow geographical features and maybe discover useful data sets
along the way.</p>
</li>
<li>
<p>To explore <strong>how the ReDBOX Research Data Catalogue application
might be able to geo-index collections</strong> (see notes on this below).</p>
</li>
</ul>
</section>
<section>
<h2>The technical stuff</h2>
<p>The current architecture of our demo is, to say the least, baroque.
There is a lot of backwards and forwards between systems to get to the
interaction between a user and Google Earth (bottom right of the
diagram). That’s perfect for exploring cloud services but maybe not
ideal for a ‘real’ service. It does show, however that using existing
systems with open interfaces you can stitch something together fairly
quickly. This will improve as packaged eResearch appliances start
appearing at NeCTAR.</p>
<p>We have now deployed part of this on our own server so we can leave it
running and shut down the NeCTAR servers so they don’t use up our
allowances.</p>
<p>Key to the diagram:</p>
<ul>
<li>
<p><a href="http://redboxresearchdata.com.au">ReDBox</a> is a research data
catalogue application which I helped design.</p>
</li>
<li>
<p>GeoHarvester is a  python script
(<a href="http://code.google.com/p/uws-eresearch/source/browse/trunk/geo/rdamap.py">rdamap.py</a>)
that sucks data out of the Solr server in ReDBox and turns it into
something that another Solr set up for geospatial queries can index.
You can see the Solr index here if you’re interested via the
<a href="http://eresearch.uws.edu.au/solr/admin/">default search interface</a>.
Or try a <a href="http://eresearch.uws.edu.au/solr/select?wt=json&amp;indent=true&amp;fl=id%20container&amp;q=*:*&amp;fq=%7b!geofilt%20pt=-35,151%20sfield=store%20d=100%7d&amp;facet=true&amp;facet.field=container">geo-spatial
query</a>,
which could <a href="http://eresearch.uws.edu.au/solr/select?q=id:0528213d31aec0e88fa7377bfed125dc">lead you to some
KML</a>.</p>
</li>
<li>
<p>KMLServer is a little web app that fields queries from Google Earth
(what data sets are ‘in view’) and talks to the Solr server. Alf has
coded it to give you <a href="http://eresearch.uws.edu.au/kmlgeo/">stuff from the Great Barrier
Reef</a> by default.</p>
</li>
</ul>
<p>Note that the only user-facing system is Google Earth all the rest is
back-end stuff. None of the work we did needed any kind of user
interface at all.</p>
<p>If  you’re really brave, you can <a href="https://code.google.com/p/uws-eresearch/source/browse/#svn%2Ftrunk%2Fgeo">check out the
code</a>
and try to get it to run by following the readme file. Warning, there
are hard-coded URLS everywhere that one bit talks to another that you
WILL need to change. I’ll help if you email me but this is not a
packaged application, it’s a demo.</p>
<p><a href="/wp-content/uploads/2012/06/image007.png"><img src="/wp-content/uploads/2012/06/image007.png" alt="Description: ReDBox - RDA : Fetch collection data overnOAI-PMH
protocol in RIF-CS format ReDBox - ReDBox : Index data into Solr index
GeoHarvester - ReDBox : Fetch all data withngeo-information from
ReBOX Solr index ReDBox - GeoHarvester : Return paginated JSON data
GeoHarvester - RDA : Fetch KML for each collection n(not included in
the RIF-CS) RDA - GeoHarvester : Return KML (with default style)
GeoHarvester - &quot;KMLServer/Solr&quot; : Index collections and cache KML
GeoHarvester - &quot;KMLServer/Solr&quot; : Divide bounding-boxesninto points
and index each point create KML &quot;KMLServer/Solr&quot; - KML : Create KML
filenwith a dynamic data loader GoogleEarth - KML : Load file
User - GoogleEarth : Change view GoogleEarth - &quot;KMLServer/Solr&quot; :
What collections are in view? &quot;KMLServer/Solr&quot; - GoogleEarth : Return
KML file with all in-viewnbounding boxes andncollection descriptions
GoogleEarth - User : collections drawn on
globe" title="image007"></a></p>
<p>Figure 4 We could possibly have made this more complicated, but it's
hard to see how</p>
<p>Building this first-take has taken us a step closer to our goal of
having an immersive demo for exploring data collections, ready for
eResearch Australasia. Along the way we learned a few lessons.</p>
<ul>
<li>
<p>Apache Solr (which is the text/data Indexer in both ReDBOX and RDA)
has basic but working geo-search features. You can only have one
point per index entry so to index large shapes we approximated them
to a simple box, then filled in a set of points (at this stage
chunking by whole degrees), indexing each point individually with a
reference back to the container object. Solr’s faceting feature
makes it easy to find the biggest boxes first and prevent Google
earth from trying to draw 20,000 collections at once.</p>
</li>
<li>
<p>Yes, RDA has a <a href="http://services.ands.org.au/home/orca/rda/search#!/q=*%3A*/p=1/tab=All/n=-33/e=152/s=-35/w=150">search by bounding
box</a>,
but it’s slow, we don’t want to barrage it with thousands of hits,
and it returns multiple HTML pages. By indexing the data ourselves
we get exactly what we want.</p>
</li>
<li>
<p>Yes, ReDBOX has Solr inside but it’s too old a version to support
geo-searching well, and we’d also require some non-trivial changes
to allow the aforementioned indexing of multiple points etc. It’s
probably better to wait a bit for Solr to improve, which it does
inexorably thanks to the Solr community, before trying to add this
kind of search to ReDBox and the underlying Fascinator platform.</p>
</li>
</ul>
<p>As usual, there’s lots TODO:</p>
<ul>
<li>
<p>Make the KML styles customizable so we can provide better
visualizations – we’d like to be able to fly through a data
mountain-range or city or forest or something. Likewise, improve the
heat-map that suggests where data might be concentrated.</p>
</li>
<li>
<p>Get rid of the Google Earth desktop app and use the new web version.</p>
</li>
<li>
<p>Get rid of the GeoHarvester code, by building it into a version of
the existing ReDBOX harvester or take ReDBOX out of the tool chain
and harvest directly from RDA.</p>
</li>
<li>
<p>Allow search by subject or keyword to select just some of the data.</p>
</li>
<li>
<p>See if we can auto-fetch actual data rather than just location
metadata (especially maps and tracks).</p>
</li>
<li>
<p>Index some other data sources – which Alf is busy sourcing from UWS
researchers.</p>
</li>
<li>
<p>But above all, see if this is useful enough to researchers or the
eReseach/ANDS community to continue the experiment.</p>
<p>\</p>
<hr>
</li>
</ul>
<p><a href="#_ednref1"><sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup>^</a> My partner said “Beer! Is it free?”, I said “Yes”,
and she said “What, as in beer?”, she’ll be using Linux next.</p>
<p><a href="#_ednref2"><sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup>^</a> As it turned out we didn’t look at this demo in our
Dojo, instead we tackled getting a resource hungry desktop application
called <a href="http://gplates.org">Gplates</a>, which does interactive
visualization of plate-tectonics, running on the cloud. We got it going,
but didn’t solve the problem of how to move the heavy number crunching
to the cloud and have the result display back at the desk.</p>
</section>
Copyright Peter Sefton 2012. Licensed under [Creative Commons
Attribution-Share Alike 2.5
Australia.](http://creativecommons.org/licenses/by-sa/2.5/au/)
</article>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p>i <a href="#fnref1" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn2" class="footnote-item"><p>ii <a href="#fnref2" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn3" class="footnote-item"><p>i <a href="#fnref3" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn4" class="footnote-item"><p>ii <a href="#fnref4" class="footnote-backref">↩︎</a></p>
</li>
</ol>
</section>

    </div><script src="https://utteranc.es/client.js"
            repo="ptsefton/blog-comments"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>  
    </script></body>
</html>