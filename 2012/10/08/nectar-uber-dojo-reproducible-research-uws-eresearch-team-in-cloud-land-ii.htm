<!DOCTYPE html>
<html lang="en"
>
<head>
    <title>NeCTAR Über Dojo, Reproducible Research (UWS eResearch team in Cloud Land II) - ptsefton.com</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="../../../2012/10/08/nectar-uber-dojo-reproducible-research-uws-eresearch-team-in-cloud-land-ii.htm">

        <meta name="author" content="ptsefton" />
        <meta name="description" content="# Alf (Andrew) Leahy and I were recently in Melbourne for the NeCTAR Über Dojo event. By coming to this two day event you will be able to go back to your institution with a signed certificate showing that you&#39;ve been &#39;black belted&#39; as a Cloud expert, specifically we&#39;ll train and …" />

        <meta property="og:site_name" content="ptsefton.com" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="NeCTAR Über Dojo, Reproducible Research (UWS eResearch team in Cloud Land II)"/>
        <meta property="og:url" content="../../../2012/10/08/nectar-uber-dojo-reproducible-research-uws-eresearch-team-in-cloud-land-ii.htm"/>
        <meta property="og:description" content="# Alf (Andrew) Leahy and I were recently in Melbourne for the NeCTAR Über Dojo event. By coming to this two day event you will be able to go back to your institution with a signed certificate showing that you&#39;ve been &#39;black belted&#39; as a Cloud expert, specifically we&#39;ll train and …"/>
        <meta property="article:published_time" content="2012-10-08" />
            <meta property="article:section" content="misc" />
            <meta property="article:author" content="ptsefton" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="../../../theme/css/bootstrap.min.css" type="text/css"/>
    <link href="../../../theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="../../../theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../theme/css/style.css" type="text/css"/>

        <link href="../../../feed/atom" type="application/atom+xml" rel="alternate"
              title="ptsefton.com ATOM Feed"/>
 

<!-- VIA -->
<!-- http://work.smarchal.com/twbscolor/css/e74c3cc0392becf0f1ffbbbc0 -->
<!-- -->
<style>

figure {
   margin-bottom: 30px;
}

blockquote {
font-size: 14px;
background-color: #FF0;
}

/* unvisited link */
a:link {
    color: #FF00FF;
}

/* visited link */
a:visited {
    color: #FF00AA;
}

/* mouse over link */
a:hover {
    color: #FF00AA;
}

/* selected link */
a:active {
    color: #0000FF;
}


.navbar-default {
  background-color: #ff00ff;
  border-color: #b72bc0;
}
.navbar-default .navbar-brand {
  color: #ffff00;
}
.navbar-default .navbar-brand:hover, .navbar-default .navbar-brand:focus {
  color: #ffff00;
}
.navbar-default .navbar-text {
  color: #ffff00;
}
.navbar-default .navbar-nav > li > a {
  color: #ffff00;
}
.navbar-default .navbar-nav > li > a:hover, .navbar-default .navbar-nav > li > a:focus {
  color: #ffff00;
}
.navbar-default .navbar-nav > .active > a, .navbar-default .navbar-nav > .active > a:hover, .navbar-default .navbar-nav > .active > a:focus {
  color: #ffff00;
  background-color: #b72bc0;
}
.navbar-default .navbar-nav > .open > a, .navbar-default .navbar-nav > .open > a:hover, .navbar-default .navbar-nav > .open > a:focus {
  color: #ffff00;
  background-color: #b72bc0;
}
.navbar-default .navbar-toggle {
  border-color: #b72bc0;
}
.navbar-default .navbar-toggle:hover, .navbar-default .navbar-toggle:focus {
  background-color: #b72bc0;
}
.navbar-default .navbar-toggle .icon-bar {
  background-color: #ffff00;
}
.navbar-default .navbar-collapse,
.navbar-default .navbar-form {
  border-color: #ffff00;
}
.navbar-default .navbar-link {
  color: #ffff00;
}
.navbar-default .navbar-link:hover {
  color: #ffff00;
}

@media (max-width: 767px) {
  .navbar-default .navbar-nav .open .dropdown-menu > li > a {
    color: #ffff00;
  }
  .navbar-default .navbar-nav .open .dropdown-menu > li > a:hover, .navbar-default .navbar-nav .open .dropdown-menu > li > a:focus {
    color: #ffff00;
  }
  .navbar-default .navbar-nav .open .dropdown-menu > .active > a, .navbar-default .navbar-nav .open .dropdown-menu > .active > a:hover, .navbar-default .navbar-nav .open .dropdown-menu > .active > a:focus {
    color: #ffff00;
    background-color: #b72bc0;
  }
}
</style>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-898010-1', 'auto');
  ga('send', 'pageview');

</script>
</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="../../../" class="navbar-brand">
ptsefton.com            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav" role="menu">
 
                    <li><a href="/">HOME</a></li>
 
                    <li><a href="/cv/">CV</a></li>





		    
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="../../../archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">

    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="../../../2012/10/08/nectar-uber-dojo-reproducible-research-uws-eresearch-team-in-cloud-land-ii.htm"
                       rel="bookmark"
                       title="Permalink to NeCTAR Über Dojo, Reproducible Research (UWS eResearch team in Cloud Land II)">
                        NeCTAR Über Dojo, Reproducible Research (UWS eResearch team in Cloud Land II)
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2012-10-08T05:39:02+00:00"> Mon 08 October 2012</time>
    </span>



    
</footer><!-- /.post-info -->                    </div>
                </div>
                <article itemscope="itemscope" itemtype="http://schema.org/ScholarlyArticle">
<section>
# 
<p>Alf (Andrew) Leahy and I were recently in Melbourne for the <a href="http://melbourne-uberdojo.eventbrite.com/">NeCTAR Über
Dojo event</a>.</p>
<blockquote>
<p>By coming to this two day event you will be able to go back to your
institution with a signed certificate showing that you've been 'black
belted' as a Cloud expert, specifically we'll train and qualify you in
using the following tools and data in the Cloud:</p>
<ul>
<li>
<p>How to use image management tools for production level VM
management on the Cloud, i.e. Puppet or Chef</p>
</li>
<li>
<p>How to use libraries to access storage data APIs, e.g. SWIFT/S3,
NFS, Object Store, etc.</p>
</li>
<li>
<p>We'll also use this event to get you the experts to tell us what
new features we need for all these new toys (I mean infrastructure
;-)</p>
</li>
</ul>
</blockquote>
<p>The climax of this thing was an Iron Chef-style challenge. This is an
initial rough post about our two hour hack (which we cleaned up over a
few more hours post-event). Andrew will write up the event for the UWS
eResearch blog. Thanks to Remko Duursma and Craig Barton for letting use
their code and data for the demo.</p>
<section itemscope itemtype="http://purl.org/ontology/bibo/Slide">
## Background: HIE\* researchers use [R](http://www.r-project.org/)
<p><img src="/wp-content/uploads/2012/10/wpid-NeCTAR_uber_Dojo.docx.htm_NeCTAR_uber_Dojo.docx_filesimage002.jpg" alt="" /></p>
<p>*Hawkesbury Institute for the Environment</p>
</section>
<section itemscope itemtype="http://purl.org/ontology/bibo/Slide">
## Meet Remko
<p><img src="/wp-content/uploads/2012/10/wpid-NeCTAR_uber_Dojo.docx.htm_NeCTAR_uber_Dojo.docx_filesimage004.jpg" alt="" /></p>
<p><a href="http://www.uws.edu.au/hie/people/researchers/doctor_remko_duursma">http://www.uws.edu.au/hie/people/researchers/doctor_remko_duursma</a></p>
</section>
<section itemscope itemtype="http://purl.org/ontology/bibo/Slide">
## And Craig
<p><img src="/wp-content/uploads/2012/10/wpid-NeCTAR_uber_Dojo.docx.htm_NeCTAR_uber_Dojo.docx_filesimage006.jpg" alt="" /></p>
<p><a href="http://www.uws.edu.au/hie/people/admin_and_technical_staff/dr_craig_barton">http://www.uws.edu.au/hie/people/admin_and_technical_staff/dr_craig_barton</a></p>
</section>
<section itemscope itemtype="http://purl.org/ontology/bibo/Slide">
## They run R to clean data & model stuff…
<p><img src="/wp-content/uploads/2012/10/wpid-NeCTAR_uber_Dojo.docx.htm_NeCTAR_uber_Dojo.docx_filesimage008.jpg" alt="" /></p>
</section>
<section itemscope itemtype="http://purl.org/ontology/bibo/Slide">
## This R Notebook shows code and output together in HTML
<p><img src="/wp-content/uploads/2012/10/wpid-NeCTAR_uber_Dojo.docx.htm_NeCTAR_uber_Dojo.docx_filesimage010.jpg" alt="" /></p>
</section>
The night before the challenge I asked Remko and Craig if we could use
some sample data and R code:
<blockquote>
<p>Andrew (Alf) and I are at a workshop in Melbourne - I was wondering if
I can use this as a demo tomorrow - ie it will appear on screen but
not be made available over the net. The short notice is because the
idea has only emerged today.</p>
<p>The thing we'd be demoing would be to _simulate_ the following:</p>
<ul>
<li>
<p>Data set + scripts like the attached is sitting in a web based
repository.</p>
</li>
<li>
<p>Repository offers user the opportunity to download the
package OR - Get an interactive R-Studio shell where they can
re-run the data</p>
<ul>
<li>
<p>Use clicks a &quot;see with interactive shell&quot; link.</p>
</li>
<li>
<p>Our server:</p>
<ul>
<li>
<p>Fires up a virtual server in the cloud</p>
</li>
<li>
<p>Installs the server version of R-Studio</p>
</li>
<li>
<p>Creates a user account</p>
</li>
<li>
<p>Pushes the data package onto the new server</p>
</li>
<li>
<p>Unpacks the package</p>
</li>
<li>
<p>Sets up R-studio to run Knitr on the main script to create
HTML</p>
</li>
<li>
<p>sends a link to the R-Studio to the user (maybe by email
cos this might take a few minutes)</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>The user can see the plots etc, and will have access to the R
environment to tweak things</p>
</li>
</ul>
</blockquote>
<section itemscope itemtype="http://purl.org/ontology/bibo/Slide">
## Our idea…
<p><img src="/wp-content/uploads/2012/10/wpid-NeCTAR_uber_Dojo.docx.htm_NeCTAR_uber_Dojo.docx_filesimage012.png" alt="" /></p>
</section>
<section itemscope itemtype="http://purl.org/ontology/bibo/Slide">
## Remko’s reponse
<blockquote>
<p>That sounds fantastic. Please go ahead! Wait actually those are
Craig's data :)**</p>
<p>&gt;* Get an interactive R-Studio shell where they can re-run the data</p>
<p>YES that is perfect!</p>
<p>greetings</p>
<p>remko</p>
</blockquote>
<p>**Craig gave us the go-ahead as well</p>
</section>
<section itemscope itemtype="http://purl.org/ontology/bibo/Slide">
## Initial quick and dirty demo approach
<p>We have written a simple CGI web script in Python which simulates a
repository, with the capacity to orchestrate the below:</p>
<ul>
<li>
<p>Create a new NeCTAR machine using Python with the Boto library</p>
</li>
<li>
<p>Connect via SSH and install R-Studio and dependencies, and make a
user account</p>
<p>TODO: Use Chef for the initial server build – we learned about Chef
on Monday but not enough to be able to create a new ‘recipe’ in an
hour or so.</p>
<p>TODO: Use a snapshot image so users don’t have to wait ten minutes
for a machine to start up and install all the prerequisites</p>
</li>
<li>
<p>Copy the sample data set onto the VM</p>
<p>TODO:  Use the cloud object storage so the data set is near to the
VM (We know how, just didn’t have time)</p>
<p>TODO: See if we can get R-Studio to launch with an R Notebook by
default and log-in automatically</p>
</li>
</ul>
</section>
<section itemscope itemtype="http://purl.org/ontology/bibo/Slide">
## Why is this cool?
<ul>
<li>
<p><strong>Our researcher-colleagues like the idea</strong></p>
</li>
<li>
<p>It uses the cloud to solve a set of real problems*:</p>
<ol>
<li>
<p>Makes it easy for ‘data shoppers’ to evaluate data sets</p>
</li>
<li>
<p>Potentially enables research outputs to be re-run in an exact
environment for real reproducible workflows (Remko notes that
you really need the exact R library versions sometimes, this
could be an option.)</p>
</li>
</ol>
</li>
</ul>
<p>*Assuming a real implementation</p>
</section>
<section itemscope itemtype="http://purl.org/ontology/bibo/Slide">
## Screenshot : Script creating a virtual server
<p><img src="/wp-content/uploads/2012/10/wpid-NeCTAR_uber_Dojo.docx.htm_NeCTAR_uber_Dojo.docx_filesimage014.jpg" alt="" /></p>
</section>
<section itemscope itemtype="http://purl.org/ontology/bibo/Slide">
## Screenshot: our script Installs R-Studio\*
<p><img src="/wp-content/uploads/2012/10/wpid-NeCTAR_uber_Dojo.docx.htm_NeCTAR_uber_Dojo.docx_filesimage016.jpg" alt="" /></p>
<p>*This process is really too slow to do on-demand, we should launch from
a pre-built snapshot. And the automation here is really hacky and crude
– it would be better to do it using something like Chef but that’s not a
one-day project if you have never used it before.</p>
</section>
<section itemscope itemtype="http://purl.org/ontology/bibo/Slide">
## Result – an RStudio Server…
<p><img src="/wp-content/uploads/2012/10/wpid-NeCTAR_uber_Dojo.docx.htm_NeCTAR_uber_Dojo.docx_filesimage018.jpg" alt="" /></p>
<p>TODO: Automate the login by passing some kind of token?</p>
</section>
<section itemscope itemtype="http://purl.org/ontology/bibo/Slide">
## With a data-set pre-loaded\*
<p><img src="/wp-content/uploads/2012/10/wpid-NeCTAR_uber_Dojo.docx.htm_NeCTAR_uber_Dojo.docx_filesimage020.jpg" alt="" /></p>
<p>*We have not automated the installation of Knitr – so no R Notebook
yet, but the code is runnable, and will spit out plot-images</p>
</section>
<section itemscope itemtype="http://purl.org/ontology/bibo/Slide">
## Show me the code
<p>The code we produced is demo quality hack-day code. This is not
something you’d use in real life but we’re releasing it on <a href="http://code.google.com/p/uws-eresearch/source/browse/#svn%2Ftrunk%2Fnectar-cloud%2Frstudio">Google
Code</a>
as an example and so we can remember where to start when we come back to
this and try to do it properly, maybe as part of the data capture
project at the <a href="http://eresearch.uws.edu.au/blog/projects/data-capture-for-climate-change-and-energy-research/">Hawkesbury Institute for the
Environment</a>.</p>
</section>
<p>Copyright<span class="apple-converted-space">  </span>Peter Sefton and
Andrew Leahy, 2012. Licensed under<span
class="apple-converted-space"> </span>Creative Commons Attribution-Share
Alike 2.5<span class="apple-converted-space"> </span>Australia.
&lt;<a href="http://creativecommons.org/licenses/by-sa/2.5/au/">http://creativecommons.org/licenses/by-sa/2.5/au/</a>&gt;</p>
</section>
</article>

            </div>
            <!-- /.entry-content -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'ptsefton'; // required: replace example with your forum shortname

                    var disqus_identifier = 'nectar-uber-dojo-reproducible-research-uws-eresearch-team-in-cloud-land-ii';
                var disqus_url = 'http://ptsefton.com/2012/10/08/nectar-uber-dojo-reproducible-research-uws-eresearch-team-in-cloud-land-ii.htm';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>

<section class="well well-sm">
    <ul class="list-group list-group-flush">


            <li class="list-group-item"><a href="../../../"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Categories</span></h4></a>
                <ul class="list-group" id="categories">
                    <li class="list-group-item">
                        <a href="../../../category/arkisto-platform.html">
                            <i class="fa fa-folder-open fa-lg"></i> Arkisto Platform
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../../../category/data-packaging-standards.html">
                            <i class="fa fa-folder-open fa-lg"></i> Data Packaging Standards
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../../../category/datacrate.html">
                            <i class="fa fa-folder-open fa-lg"></i> DataCrate
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../../../category/datacrate-repositories-eresearch.html">
                            <i class="fa fa-folder-open fa-lg"></i> DataCrate, Repositories, eResearch
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../../../category/eresearch.html">
                            <i class="fa fa-folder-open fa-lg"></i> eResearch
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../../../category/file-data-capture.html">
                            <i class="fa fa-folder-open fa-lg"></i> File Data Capture
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../../../category/housekeeping.html">
                            <i class="fa fa-folder-open fa-lg"></i> Housekeeping
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../../../category/how-to.html">
                            <i class="fa fa-folder-open fa-lg"></i> How to
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../../../category/jiscpub.html">
                            <i class="fa fa-folder-open fa-lg"></i> jiscPUB
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../../../category/misc.html">
                            <i class="fa fa-folder-open fa-lg"></i> misc
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../../../category/repositories.html">
                            <i class="fa fa-folder-open fa-lg"></i> Repositories
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../../../category/scholarlyhtml.html">
                            <i class="fa fa-folder-open fa-lg"></i> ScholarlyHTML
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../../../category/word-processing.html">
                            <i class="fa fa-folder-open fa-lg"></i> Word Processing
                        </a>
                    </li>
                </ul>
            </li>

    <li class="list-group-item"><h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
      <ul class="list-group" id="links">
        <li class="list-group-item">
            <a href="http://uts.edu.au/" target="_blank">
                Work
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://ukulelecircus.com/" target="_blank">
                Play
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://twitter.com/ptsefton" target="_blank">
                Twitter: @ptsefton
            </a>
        </li>
        <li class="list-group-item">
            <a href="https://www.flickr.com/photos/25201123@N03/" target="_blank">
                Photos
            </a>
        </li>
      </ul>
    </li>
    </ul>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
       
      <div class="col-xs-10">
      <p>This site is hosted by <a
      href='https://www.webfaction.com/?aid=2969'>webfaction</a>, and has
      been since 2004, with no problems whatsoever, and steadily
      decreasing cost. If you <a
      href='https://www.webfaction.com/?aid=2969'>sign up</a> I can
      get a small discount on my hosting.</p>
        

	&copy; 2021 Peter (Petie) Sefton
	     
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="../../../theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="../../../theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="../../../theme/js/respond.min.js"></script>

    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'ptsefton'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->

</body>
</html>