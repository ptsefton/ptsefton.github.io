<!DOCTYPE html>
<html lang="en"
>
<head>
    <title>CML demo - ptsefton.com</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="/2007/06/22/cml_demo.htm">

        <meta name="author" content="Peter (Petie) Sefton" />
        <meta name="description" content="View this page as PDF I mentioned before that at the ETD 2007 conference I met Prof Peter Murray-Rust. We&#39;re going to collaborate on adding support for CML – the Chemical Markup Language to ICE, so that people can write research publications that include &#39;live&#39; data. Here&#39;s a quick demo of …" />

        <meta property="og:site_name" content="ptsefton.com" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="CML demo"/>
        <meta property="og:url" content="/2007/06/22/cml_demo.htm"/>
        <meta property="og:description" content="View this page as PDF I mentioned before that at the ETD 2007 conference I met Prof Peter Murray-Rust. We&#39;re going to collaborate on adding support for CML – the Chemical Markup Language to ICE, so that people can write research publications that include &#39;live&#39; data. Here&#39;s a quick demo of …"/>
        <meta property="article:published_time" content="2007-06-22" />
            <meta property="article:section" content="misc" />
            <meta property="article:author" content="Peter (Petie) Sefton" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="/theme/css/style.css" type="text/css"/>

        <link href="/feed/atom" type="application/atom+xml" rel="alternate"
              title="ptsefton.com ATOM Feed"/>
 

<!-- VIA -->
<!-- http://work.smarchal.com/twbscolor/css/e74c3cc0392becf0f1ffbbbc0 -->
<!-- -->
<style>

figure {
   margin-bottom: 30px;
}

blockquote {
font-size: 14px;
background-color: #FF0;
}

/* unvisited link */
a:link {
    color: #FF00FF;
}

/* visited link */
a:visited {
    color: #FF00AA;
}

/* mouse over link */
a:hover {
    color: #FF00AA;
}

/* selected link */
a:active {
    color: #0000FF;
}


.navbar-default {
  background-color: #ff00ff;
  border-color: #b72bc0;
}
.navbar-default .navbar-brand {
  color: #ffff00;
}
.navbar-default .navbar-brand:hover, .navbar-default .navbar-brand:focus {
  color: #ffff00;
}
.navbar-default .navbar-text {
  color: #ffff00;
}
.navbar-default .navbar-nav > li > a {
  color: #ffff00;
}
.navbar-default .navbar-nav > li > a:hover, .navbar-default .navbar-nav > li > a:focus {
  color: #ffff00;
}
.navbar-default .navbar-nav > .active > a, .navbar-default .navbar-nav > .active > a:hover, .navbar-default .navbar-nav > .active > a:focus {
  color: #ffff00;
  background-color: #b72bc0;
}
.navbar-default .navbar-nav > .open > a, .navbar-default .navbar-nav > .open > a:hover, .navbar-default .navbar-nav > .open > a:focus {
  color: #ffff00;
  background-color: #b72bc0;
}
.navbar-default .navbar-toggle {
  border-color: #b72bc0;
}
.navbar-default .navbar-toggle:hover, .navbar-default .navbar-toggle:focus {
  background-color: #b72bc0;
}
.navbar-default .navbar-toggle .icon-bar {
  background-color: #ffff00;
}
.navbar-default .navbar-collapse,
.navbar-default .navbar-form {
  border-color: #ffff00;
}
.navbar-default .navbar-link {
  color: #ffff00;
}
.navbar-default .navbar-link:hover {
  color: #ffff00;
}

@media (max-width: 767px) {
  .navbar-default .navbar-nav .open .dropdown-menu > li > a {
    color: #ffff00;
  }
  .navbar-default .navbar-nav .open .dropdown-menu > li > a:hover, .navbar-default .navbar-nav .open .dropdown-menu > li > a:focus {
    color: #ffff00;
  }
  .navbar-default .navbar-nav .open .dropdown-menu > .active > a, .navbar-default .navbar-nav .open .dropdown-menu > .active > a:hover, .navbar-default .navbar-nav .open .dropdown-menu > .active > a:focus {
    color: #ffff00;
    background-color: #b72bc0;
  }
}
</style>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-898010-1', 'auto');
  ga('send', 'pageview');

</script>
</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="/" class="navbar-brand">
ptsefton.com            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav" role="menu">
 
                    <li><a href="/">HOME</a></li>
 
                    <li><a href="/cv/">CV</a></li>





		    
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">

    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="/2007/06/22/cml_demo.htm"
                       rel="bookmark"
                       title="Permalink to CML demo">
                        CML demo
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2007-06-22T00:00:00+02:00"> Fri 22 June 2007</time>
    </span>



    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p><a href="/blog/2007/06/22/cml_demo/100.pdf">View this page as PDF</a></p>
<div>
<div>
<p>I <a href="http://ptsefton.com/blog/2007/06/15/etd_2007">mentioned before</a> that
at the ETD 2007 conference I met <a href="http://wwmm.ch.cam.ac.uk/blogs/murrayrust/">Prof Peter
Murray-Rust</a>. We're going to
collaborate on adding support for CML <span
class="spCh spChx2013">–</span> the Chemical Markup Language to ICE, so
that people can write research publications that include 'live' data.</p>
<p>Here's a quick demo of the possibilities.</p>
<p>I went to the amazing <a href="http://wwmm.ch.cam.ac.uk/crystaleye/">Crystaleye</a>
service.</p>
<blockquote>
<p>The aim of the CrystalEye project is to aggregate crystallography from
web resources, and to provide methods to easily browse, search, and to
keep up to date with the latest published information.</p>
<p><a href="http://wwmm.ch.cam.ac.uk/crystaleye/">http://wwmm.ch.cam.ac.uk/crystaleye/</a></p>
</blockquote>
<p>Crystaleye automatically finds descriptions of crystals in
web-accessible literature, turns them into CML and builds pages like
<a href="http://wwmm.ch.cam.ac.uk/crystaleye/summary/acta/b/2007/03-00/index.html">Acta Crystallographica Section B, 2007, issue
03-00.</a></p>
<p>From that page I grabbed this two dimensional image of
(C~6~H~15~N~4~O~2~)~2~(C~4~H~4~O~6~^-2^),</p>
<p><img src="/blog/2007/06/22/cml_demo/1.png" alt="graphics3" /></p>
<p>There's a Java applet on the page that lets you play with the crystal in
3d. Here's a screenshot. of the 3d rendering.</p>
<p><img src="/blog/2007/06/22/cml_demo/2.jpg" alt="graphics2" /></p>
<p>There's lots more work to be done, but I thought I'd show how easy it is
to make an ICE document that shows the 2d view for print, with the 3d
view for the web, via the applet. Be warned, this may not work for you.
The applet refuses to load in Firefox 2 for me, but it does work in
Safari on Max OS X. If you follow the 'view this page in PDF' link above
you'll see just the picture.</p>
<p><a href="http://ptsefton.com/files/cml/bk5044sup1_II.complete.cml.xml"><img src="/blog/2007/06/22/cml_demo/1.png" alt="graphics1" /></a></p>
<div>
<div id="jmolContainer">
</div>
<div id="rendering">
</div>
</div>
<p>What's happening here?</p>
<p>My initial hack is really simple. I grab the image and paste it into ICE
like any other image, but then I link it to the <a href="../../../files/cml/bk5044sup1_II.complete.cml.xml">CML
source</a>. I wrote a
tiny fragment of Python in my ICE site to go through every page, and if
it finds a link to to a CML file containing an image, it adds code to
load the CML into the Jmol applet. This is a kind of
integration-by-convention, AKA microformat.</p>
<p>The main bit of programming only took a few minutes, but sorting out
where to put the CML files and the Jmol applet, and integrating the
changes into this blog took ages. I ended up putting the files here on
my web site which meant putting a big chunk of stuff into subversion,
something that should have been done ages ago, but the version of svn
that runs on my other server refuses to do large commits over HTTPS 'cos
of some SSL bug and I can't figure out how to update it which meant
switching the repository to use plain HTTP, and so on. It wasn't made
easier by me mucking around with the Airport Extreme router and our ADSL
modem at the same time, halting internet access at home for a couple of
hours.</p>
<p>To make this integration a bit more usable and robust we want to:</p>
<ul>
<li>
<p>Work out a workflow that lets you keep CML files in ICE and easily
drop images in to your documents, letting ICE render using the
applet when it makes HTML.</p>
</li>
<li>
<p>Integrate forthcoming work from Peter &amp; team that will provide high
quality vector graphics instead of the PNG files I'm using now.</p>
</li>
<li>
<p>Investigate embedding CML in an image format such as EPS that word
processors understand.</p>
</li>
<li>
<p>Generalize this approach for other e-scholarship applications. We're
working with the <a href="http://www.alivex3d.org/">Alive team</a> at USQ on
this.</p>
</li>
<li>
<p>Talk to the <a href="http://www.ariadne.ac.uk/issue51/treloar-groenewegen/">DART &amp; ARCHER
teams</a>.</p>
</li>
</ul>
</div>
</div>

            </div>
            <!-- /.entry-content -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'ptsefton'; // required: replace example with your forum shortname

                    var disqus_identifier = 'cml_demo';
                var disqus_url = 'http://ptsefton.com/2007/06/22/cml_demo.htm';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>

<section class="well well-sm">
    <ul class="list-group list-group-flush">


            <li class="list-group-item"><a href="/"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Categories</span></h4></a>
                <ul class="list-group" id="categories">
                    <li class="list-group-item">
                        <a href="/category/arkisto-platform.html">
                            <i class="fa fa-folder-open fa-lg"></i> Arkisto Platform
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="/category/data-packaging-standards.html">
                            <i class="fa fa-folder-open fa-lg"></i> Data Packaging Standards
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="/category/datacrate.html">
                            <i class="fa fa-folder-open fa-lg"></i> DataCrate
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="/category/datacrate-repositories-eresearch.html">
                            <i class="fa fa-folder-open fa-lg"></i> DataCrate, Repositories, eResearch
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="/category/eresearch.html">
                            <i class="fa fa-folder-open fa-lg"></i> eResearch
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="/category/file-data-capture.html">
                            <i class="fa fa-folder-open fa-lg"></i> File Data Capture
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="/category/housekeeping.html">
                            <i class="fa fa-folder-open fa-lg"></i> Housekeeping
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="/category/how-to.html">
                            <i class="fa fa-folder-open fa-lg"></i> How to
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="/category/jiscpub.html">
                            <i class="fa fa-folder-open fa-lg"></i> jiscPUB
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="/category/misc.html">
                            <i class="fa fa-folder-open fa-lg"></i> misc
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="/category/repositories.html">
                            <i class="fa fa-folder-open fa-lg"></i> Repositories
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="/category/scholarlyhtml.html">
                            <i class="fa fa-folder-open fa-lg"></i> ScholarlyHTML
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="/category/word-processing.html">
                            <i class="fa fa-folder-open fa-lg"></i> Word Processing
                        </a>
                    </li>
                </ul>
            </li>

    <li class="list-group-item"><h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
      <ul class="list-group" id="links">
        <li class="list-group-item">
            <a href="http://uts.edu.au/" target="_blank">
                Work
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://ukulelecircus.com/" target="_blank">
                Play
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://twitter.com/ptsefton" target="_blank">
                Twitter: @ptsefton
            </a>
        </li>
        <li class="list-group-item">
            <a href="https://www.flickr.com/photos/25201123@N03/" target="_blank">
                Photos
            </a>
        </li>
      </ul>
    </li>
    </ul>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
       
      <div class="col-xs-10">
      <p>This site is hosted by <a
      href='https://www.webfaction.com/?aid=2969'>webfaction</a>, and has
      been since 2004, with no problems whatsoever, and steadily
      decreasing cost. If you <a
      href='https://www.webfaction.com/?aid=2969'>sign up</a> I can
      get a small discount on my hosting.</p>
        

	&copy; 2021 Peter (Petie) Sefton
	     
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="/theme/js/respond.min.js"></script>

    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'ptsefton'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->

</body>
</html>