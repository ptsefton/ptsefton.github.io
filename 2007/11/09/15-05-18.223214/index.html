<!DOCTYPE html>
<html lang="en"
>
<head>
    <title>ICE as a blog editor - ptsefton.com</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="http://ptsefton.com/2007/11/09/15-05-18.223214/index.html">

        <meta name="author" content="Peter (Petie) Sefton" />
        <meta name="description" content="View this page as PDF I noticed yesterday another frustrated aside from Peter Murray Rust embedded in a post about chemistry and e-science: [Note: I will continue to try to format the code - Wordpress makes it very difficult] Also yesterday I wrote about how we are breaking ICE up into …" />

        <meta property="og:site_name" content="ptsefton.com" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="ICE as a blog editor"/>
        <meta property="og:url" content="http://ptsefton.com/2007/11/09/15-05-18.223214/index.html"/>
        <meta property="og:description" content="View this page as PDF I noticed yesterday another frustrated aside from Peter Murray Rust embedded in a post about chemistry and e-science: [Note: I will continue to try to format the code - Wordpress makes it very difficult] Also yesterday I wrote about how we are breaking ICE up into …"/>
        <meta property="article:published_time" content="2007-11-09" />
            <meta property="article:section" content="misc" />
            <meta property="article:author" content="Peter (Petie) Sefton" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://ptsefton.com/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="http://ptsefton.com/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://ptsefton.com/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="http://ptsefton.com/theme/css/style.css" type="text/css"/>

        <link href="http://ptsefton.com/feed/atom" type="application/atom+xml" rel="alternate"
              title="ptsefton.com ATOM Feed"/>
 

<!-- VIA -->
<!-- http://work.smarchal.com/twbscolor/css/e74c3cc0392becf0f1ffbbbc0 -->
<!-- -->
<style>

figure {
   margin-bottom: 30px;
}

blockquote {
font-size: 11px;
background-color: rgb(245, 245, 204);
}

/* unvisited link */
a:link {
    color: #FF00FF;
}

/* visited link */
a:visited {
    color: #FF00AA;
}

/* mouse over link */
a:hover {
    color: #FF00AA;
}

/* selected link */
a:active {
    color: #0000FF;
}

section[typeof='http://purl.org/ontology/bibo/Slide'] {
  border-color: #2d262e;
  border-style: solid;
  margin: 30px;
  padding: 10px 10px  10px 10px;
  width: 90%;
}

section[typeof='http://purl.org/ontology/bibo/Slide'] img {
  padding: 20px;
  display: block;
  margin-left: auto;
  margin-right: auto;
  width: 90%;
}

.navbar-default {
  background-color: #ff00ff;
  border-color: #b72bc0;
}
.navbar-default .navbar-brand {
  color: #ffff00;
}
.navbar-default .navbar-brand:hover, .navbar-default .navbar-brand:focus {
  color: #ffff00;
}
.navbar-default .navbar-text {
  color: #ffff00;
}
.navbar-default .navbar-nav > li > a {
  color: #ffff00;
}
.navbar-default .navbar-nav > li > a:hover, .navbar-default .navbar-nav > li > a:focus {
  color: #ffff00;
}
.navbar-default .navbar-nav > .active > a, .navbar-default .navbar-nav > .active > a:hover, .navbar-default .navbar-nav > .active > a:focus {
  color: #ffff00;
  background-color: #b72bc0;
}
.navbar-default .navbar-nav > .open > a, .navbar-default .navbar-nav > .open > a:hover, .navbar-default .navbar-nav > .open > a:focus {
  color: #ffff00;
  background-color: #b72bc0;
}
.navbar-default .navbar-toggle {
  border-color: #b72bc0;
}
.navbar-default .navbar-toggle:hover, .navbar-default .navbar-toggle:focus {
  background-color: #b72bc0;
}
.navbar-default .navbar-toggle .icon-bar {
  background-color: #ffff00;
}
.navbar-default .navbar-collapse,
.navbar-default .navbar-form {
  border-color: #ffff00;
}
.navbar-default .navbar-link {
  color: #ffff00;
}
.navbar-default .navbar-link:hover {
  color: #ffff00;
}

@media (max-width: 767px) {
  .navbar-default .navbar-nav .open .dropdown-menu > li > a {
    color: #ffff00;
  }
  .navbar-default .navbar-nav .open .dropdown-menu > li > a:hover, .navbar-default .navbar-nav .open .dropdown-menu > li > a:focus {
    color: #ffff00;
  }
  .navbar-default .navbar-nav .open .dropdown-menu > .active > a, .navbar-default .navbar-nav .open .dropdown-menu > .active > a:hover, .navbar-default .navbar-nav .open .dropdown-menu > .active > a:focus {
    color: #ffff00;
    background-color: #b72bc0;
  }
}
</style>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-898010-1', 'auto');
  ga('send', 'pageview');

</script>
</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://ptsefton.com/" class="navbar-brand">
ptsefton.com            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav" role="menu">
 
                    <li><a href="/">HOME</a></li>
 
                    <li><a href="/cv/">CV</a></li>





		    
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="http://ptsefton.com/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">

    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="http://ptsefton.com/2007/11/09/15-05-18.223214/index.html"
                       rel="bookmark"
                       title="Permalink to ICE as a blog editor">
                        ICE as a blog editor
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2007-11-09T00:00:00+01:00"> Fri 09 November 2007</time>
    </span>



    
</footer><!-- /.post-info -->                    </div>
                </div>
                <div>
<p><a href="/blog/2007/11/09/15-05-18.223214/100.pdf">View this page as PDF</a></p>
<p>I noticed yesterday another <a href="http://wwmm.ch.cam.ac.uk/blogs/murrayrust/?p=797">frustrated
aside</a> from Peter
Murray Rust embedded in a post about chemistry and e-science:</p>
<blockquote>
<p>[Note: I will continue to try to format the code - Wordpress makes it
very difficult]</p>
</blockquote>
<p>Also yesterday I wrote <a href="http://ptsefton.com/blog/2007/11/08/13-15-08.503110">about how we are breaking ICE up into more
digestible pieces</a>,
one of which is the ability to post to a weblog using Atompub. Daniel de
Byl has just posted a demo <a href="http://ice.usq.edu.au/presentations/demos/ooo_to_wordpress.htm">using OpenOffice.org Writer to publish a
nicely formatted blog post to
WordPress</a>.</p>
<p>And today a <a href="http://ptsefton.wordpress.com/2007/11/09/ice-as-a-blog-editor/">supportive reply from
PMR</a> to
my post with a poem in it! Thing do indeed take time, I've been at this
since 1996. I think we're getting there now, though.</p>
<p>I thought I'd try out the new ICE services using one of Peter's posts
and see what happens. I think that the ICE toolbar in Writer could help
transcend the formatting problems with WordPress and we could look at
doing interesting stuff like <a href="http://ice.usq.edu.au/presentations/demos/try_ice_2x_for_wp.htm">CML
integration</a>.</p>
<p>Here's his post (embedded in mine as a blockquote):</p>
<blockquote>
<p><a href="http://wwmm.ch.cam.ac.uk/blogs/murrayrust/?p=797"><strong>CrystalEye: using the
harvester</strong></a></p>
<p>Jim Downing has written a harvester for CrystalEye. I thought I would
have a try and see if I could iterate through all the entries and
extract the temperature of the experiment. This is where XML really
starts to show its value over legacy formats. Jim<span
class="spCh spChx2019">’</span>s iterator reads each entry and copies
it to a file; I decided to read the entry as an XML document, search
for the temperature using XQuery and announce it. It<span
class="spCh spChx2019">’</span>s simple enough that I thought I could
do it while watching Liverpool (I used to live on Merseyside).
Unfortunately (or fortunately) the torrent of goals distracted me so
it had to wait till today.</p>
<p>The temperature is described in the IUCr dictionary and held in CML as
(example):</p>
<p>293.0</p>
<p>So this is trivially locatable by XQuery (with local-name() and
@dictRef):</p>
<pre><code>// iterate through all entries

for (DataEntry de : doc.getDataEnclosures()) {

if (downloaded &gt;= maxHarvest) {

return downloaded;

}

InputStream in = null;

try {

in = get(de.url);

// standard XOM XML parsing, creates a

Element rootElement = new Builder().build(in).getRootElement();

// standard xquery

Nodes nodes = rootElement.query(

&quot;.//*[local-name()='scalar'&quot;+

and @dictRef='iucr:_cell_measurement_temperature']&quot;);

// if there is a temperatute extract the value

String temp = (nodes.size() == 0) ? &quot;no temp given&quot; : nodes.get(0).getValue();

System.out.println(&quot;temperature for &quot;+rootElement.getAttributeValue(&quot;id&quot;)+&quot;: &quot;+temp);

downloaded++;

} catch (Exception e) {

e.printStackTrace();

} finally {

IOUtils.closeQuietly(in);

}

}
</code></pre>
<p>and here<span class="spCh spChx2019">’</span>s the output:</p>
<pre><code>1625 [main] DEBUG uk.ac.cam.ch.wwmm.crystaleye.client.Harvester  - Getting http://wwmm.ch.cam.ac.uk/crystaleye/summary/rsc/ob/2007/22/data/b712503h/b712503hsup1_pob0401m/b712503hsup1_pob0401m.complete.cml.xml

temperature for rsc_ob_2007_22_b712503hsup1_pob0401m: 115.0

2297 [main] DEBUG uk.ac.cam.ch.wwmm.crystaleye.client.Harvester  - Getting http://wwmm.ch.cam.ac.uk/crystaleye/summary/rsc/ob/2007/22/data/b710487a/b710487asup1_ljf130/b710487asup1_ljf130.complete.cml.xml

temperature for rsc_ob_2007_22_b710487asup1_ljf130: 150.0
</code></pre>
<p>etc.</p>
<p>It will take the best part of the day to iterate through the entries,
but remember that CrystalEye is not a database. We are converting it
to RDF (and anyone interested can also do this) when it can be
searched in a trivial amount of time and with much more complex
questions. (Remember that CrystalEye was not originally designed as a
public resource). Until then anyone who wishes to use CrystalEye a lot
would do best to download the entries and build their own index.</p>
<p>[Note: I will continue to try to format the code - Wordpress makes it
very difficult]</p>
</blockquote>
<p>Easy enough to do in ICE apart from the slightly clunky way quoting
works. We really need the ability to import HTML properly formatted as a
blockquote. This would be very important for PMR, as he likes to quote
big chunks. In HTML all you do is wrap <code>&lt;blockquote&gt;</code> tags around the
source for the quote and you're done. In ICE you have to imply the quote
by marking the first paragraph as <code>bq1</code> style using our easy-to-click
toolbar buttons, then indent the subsequent paragraphs appropriately
with the indent button. We'll work on automating that but it's not that
bad even now.</p>
<p>I considered using <a href="http://weblogtoolscollection.com/archives/2007/06/16/css-for-code-wrap-long-lines/">this
tip</a>
to change my CSS so that stuff in <code>&lt;pre&gt;</code> tags wraps but on the test
site I would have to pay to change the CSS. The theme I'm using uses
this: <code>pre {overflow: auto;}</code> . PMR has used <code>&lt;code&gt;</code> inside a
paragraph. Not sure what the solution would be there but maybe the same
CSS would help.</p>
<p>You can see a <a href="http://ptsefton.wordpress.com/2007/11/09/ice-as-a-blog-editor/">draft version of this here post on my test
blog</a>.</p>
<p>If you want to try this out and blog to WordPress from OpenOffice.org
then see <a href="http://ice.usq.edu.au/presentations/demos/try_ice_2x_for_wp.htm">the
instructions</a>
that Daniel has put up on the ICE site and remember this is
bleeding-edge alpha-quality Windows-only software at this stage.
Remember also to actually read the instructions. The URL to use for
WordPress is really important, for example.</p>
</div>

            </div>
            <!-- /.entry-content -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'ptsefton'; // required: replace example with your forum shortname

                    var disqus_identifier = '15-05-18.223214';
                var disqus_url = 'http://ptsefton.com/2007/11/09/15-05-18.223214/index.html';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>

<section class="well well-sm">
    <ul class="list-group list-group-flush">


            <li class="list-group-item"><a href="http://ptsefton.com/"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Categories</span></h4></a>
                <ul class="list-group" id="categories">
                    <li class="list-group-item">
                        <a href="http://ptsefton.com/category/arkisto-platform.html">
                            <i class="fa fa-folder-open fa-lg"></i> Arkisto Platform
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://ptsefton.com/category/data-packaging-standards.html">
                            <i class="fa fa-folder-open fa-lg"></i> Data Packaging Standards
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://ptsefton.com/category/datacrate.html">
                            <i class="fa fa-folder-open fa-lg"></i> DataCrate
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://ptsefton.com/category/datacrate-repositories-eresearch.html">
                            <i class="fa fa-folder-open fa-lg"></i> DataCrate, Repositories, eResearch
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://ptsefton.com/category/eresearch.html">
                            <i class="fa fa-folder-open fa-lg"></i> eResearch
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://ptsefton.com/category/file-data-capture.html">
                            <i class="fa fa-folder-open fa-lg"></i> File Data Capture
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://ptsefton.com/category/housekeeping.html">
                            <i class="fa fa-folder-open fa-lg"></i> Housekeeping
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://ptsefton.com/category/how-to.html">
                            <i class="fa fa-folder-open fa-lg"></i> How to
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://ptsefton.com/category/jiscpub.html">
                            <i class="fa fa-folder-open fa-lg"></i> jiscPUB
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://ptsefton.com/category/misc.html">
                            <i class="fa fa-folder-open fa-lg"></i> misc
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://ptsefton.com/category/repositories.html">
                            <i class="fa fa-folder-open fa-lg"></i> Repositories
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://ptsefton.com/category/research-data-management.html">
                            <i class="fa fa-folder-open fa-lg"></i> Research Data Management
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://ptsefton.com/category/scholarlyhtml.html">
                            <i class="fa fa-folder-open fa-lg"></i> ScholarlyHTML
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://ptsefton.com/category/word-processing.html">
                            <i class="fa fa-folder-open fa-lg"></i> Word Processing
                        </a>
                    </li>
                </ul>
            </li>

    <li class="list-group-item"><h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
      <ul class="list-group" id="links">
        <li class="list-group-item">
            <a href="http://uts.edu.au/" target="_blank">
                Work
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://ukulelecircus.com/" target="_blank">
                Play
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://twitter.com/ptsefton" target="_blank">
                Twitter: @ptsefton
            </a>
        </li>
        <li class="list-group-item">
            <a href="https://www.flickr.com/photos/25201123@N03/" target="_blank">
                Photos
            </a>
        </li>
      </ul>
    </li>
    </ul>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
       
      <div class="col-xs-10">
      <p>This site is hosted by <a
      href='https://www.webfaction.com/?aid=2969'>webfaction</a>, and has
      been since 2004, with no problems whatsoever, and steadily
      decreasing cost. If you <a
      href='https://www.webfaction.com/?aid=2969'>sign up</a> I can
      get a small discount on my hosting.</p>
        

	&copy; 2021 Peter (Petie) Sefton
	     
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://ptsefton.com/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://ptsefton.com/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://ptsefton.com/theme/js/respond.min.js"></script>

    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'ptsefton'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->

</body>
</html>