
<html>
<head>
    <title>ptsefton.com :: Improving VALET - part 2</title>
<style>
.header {
  background-color: #ff00ff;
  border-color: #b72bc0;
  color: #ffff00;
  padding-top: 12pt;
  padding-bottom: 12pt;
  font-family: monospace;
}




/* unvisited link */
a:link {
    color: #FF00FF;
}

.header a:link {
    color: #FFFF00;
    text-decoration: none; 
}

button {
    color: #ffff00;
    background-color: #ff00ff;
    font-family: monospace;
}

/* visited link */
a:visited {
    color: #FF00AA;
}

.header a:visited {
    color: #FFFF00;
}

h1, h2 {
    color: # FF00FF
}

/* mouse over link */
a:hover {
    color: #FF00AA;
}

/* selected link */
a:active {
    color: #0000FF;
}

a {
    text-decoration: none; 
}

img {
    max-width: 100%;
    display: block;
    margin-left: auto;
    margin-right: auto;
}
section img {
    width: 100%
}

td, th {
    padding-top: 20px;
    padding-right: 20px;
    vertical-align: top;
    text-align: left;
}

.content {
	font-family: Verdana, system-ui, Helvetica, sans-serif;
    line-height: 1.8em;
    }


.caption {
    text-align: center;
    background-color: rgba(255, 0, 255, 0.2); 
    padding-left: 5%;
    padding-right: 5%;
    padding-top: 2%;
    padding-bottom: 2%;
}

blockquote {
    font-style: italic;
    font-weight: bold;
    color: #FF00FF;

    background-color: rgba(255, 255, 0, 0.2); 
    padding-left: 5%;
    padding-right: 5%;
    padding-top: 2%;
    padding-bottom: 2%;
}


@media  screen and (min-width:  900px) {
    .content, .header {
        width: 60%;
        padding-left: 20%;
        padding-right: 30%;
    }
    .row {
    display: grid;
    grid-template-columns: 75% 25%;
}
    
}

@media  screen and (min-width: 1200px) {
    .content, .header {
        width: 55%;
        padding-left: 20%;
        padding-right: 30%;
    }
    .row {
        display: grid;
        grid-template-columns: 75% 25%;
}
    
}


.date {
      font-style: italic;
}

.cat p {
        line-height: 1em;
}

</style>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-898010-1', 'auto');
  ga('send', 'pageview');
</script>
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6JNHBJL67Q"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-6JNHBJL67Q');
</script>

<body>
    <div class="header">
        <h2><a href="/">[ptsefton.com]</a> | <a href="/Pages/cv.html"> [CV & Bio] </a></h2>
    </div>


    <div class="content">
        <h1> 
        Improving VALET - part 2 
        </h1>
        <h2>2008-07-31 </h2>

        <div>
<div class="page-toc">
</div>
<div>
<p>This is my second post on the VALET repository deposit tool. Again, if
you're not a repository aficionado you can probably move on<a href="#ftn0"><span
style="vertical-align: super;"><span
class="footnote">1</span></span></a>.</p>
<p>Still here?</p>
<p>One of the issues we confronted with VALET was to rewrite in Java or not
to rewrite in Java? VALET is written in Perl and quite nicely written in
my opinion, apart from the HTML forms which are a big mess of non-valid
HTML. There's nothing wrong with that as such, but it does have a couple
of downsides relative to Java:</p>
<ol>
<li>
<p>VALET requires a web server to be installed. VITAL used to ship with
Apache but it no longer does, so to run VALET you can end up having
to compile and install Apache, and obtain some other dependencies.
If it were a Java application then you could just drop it in to the
same servlet container as you use for VITAL and Fedora.</p>
</li>
<li>
<p>We have heard from some of the, um, younger techies in the ARROW
community that Perl is a complete mystery. Others report
difficulties in hiring Perl programmers, whereas everyone does Java
at uni these days.</p>
</li>
</ol>
<p>On the other hand, there are some reasons not to want to do a port:</p>
<ol>
<li>
<p>Some of the ARROW contingent have been using Perl since 1934 and can
at least tolerate it. I'd count myself in that group. Fortran
anyone?</p>
</li>
<li>
<p>Hacking a Java program is not as simple as using a text editor to
change a Perl file, because you need to compile (and worry about
stuff like CLASSPATH, ugh).</p>
</li>
<li>
<p>A port will create a huge fork.</p>
</li>
</ol>
<p>All these points count for something, but Prashant from University of
South Australia has pointed out that using JSP (to which I'm allergic,
like PHP and ASP) gives a much easier entry point for 'casual'
developers and even if it does fork VALET is actually a fairly small
application so the investment is not huge and the gain for sites where
they want to just consume the software should be worth it.</p>
<p>In the end the group here at the VALET camp decided that there was
enough interest in a Java version that they were going to go for it.
Nobody would own up to being a Java expert but four or five confessed to
having written production Java code.</p>
<p>They're creating an application as I write this. While they do that
Harry, Duncan and David are integrating all the changes that ARROW sites
made to VALET and submitted to the Google group. So the Java team will
have a moving target as they re-implement the Perl code.</p>
<p>The Perl version won't be going away <span
class="spCh spChx2013">–</span> but it looks like at least some sites
will move straight over to the Java version once it's done.</p>
<p>So what are the Java team (Tim, Guy, Prashant and Cyrus) doing?</p>
<p>They're starting a VALET compatible clone. The idea is that you should
be able to take an existing VALET workflow and data entry forms and with
minimal effort, port it to run in the new application. Best case would
be no work at all required; the new application will be a drop-in
replacement for VALET. We'll see if that can be achieved.</p>
<p>The new app rejoices in the working title of <em>Squire</em>, which is not an
acronym; it shows that the developers know how to use a thesaurus. Or is
it named for the <a href="http://www2.dpi.qld.gov.au/fishweb/2532.html">fish</a>? I
reckon they should call it
<a href="http://en.wikipedia.org/wiki/Alfred_Pennyworth">Alfred</a> or
Pennyworth<a href="#ftn1"><span style="vertical-align: super;"><span
class="footnote">2</span></span></a>. Either way, it's better than
the original working title of <em>Black Hole</em>. which would be like calling
your deposit interface <a href="http://digital.library.wisc.edu/1793/22088">Roach
Motel</a>. Although at least if
you had a repository deposit called Black Hole you could claim very high
rates of compression for data. Just don't mention decompression.</p>
<p>The new JAVA platform will make it easier to do some of the other
changes that the community are asking for (we're discussion this on the
ARROW Google group for those of you in the inner-circle), in some cases
because there are more repository-oriented libraries for Java than for
Perl but also just because as a community we have more competent Java
programmers than Perl programmers these days.</p>
<p>Here are some enhancements that we will probably do at USQ at some stage
<span class="spCh spChx2013">–</span> there are lots of other
requirements too which we are not going to forget these are just the
ones that I can speak for at this stage:</p>
<ol>
<li>
<p>A
<a href="http://sourceforge.net/projects/sword-app/#item3rd-1">SWORD</a>deposit
so the application can push content to repositories other than
Fedora. We're going to look at deposit of complex objects over SWORD
in the TheOREM-ICE project very soon so this will be a quick add-on.</p>
</li>
<li>
<p>The inevitable ICE interface so that if you submit a styled word
processing document to Squire if will generate good quality HTML and
PDF renditions automatically. We're working with Ian Barnes at ANU
and <a href="http://ptsefton.com/2008/06/26/a-few-words-on-magic.htm">talking to the PKP
people</a>
about how we might be able to do a better job of inferring document
structure than the standard, breathtakingly abysmal <span
class="spCh spChx201c">“</span>Save as HTML<span
class="spCh spChx201d">”</span> feature in word processors. Another
step in my campaign to stamp out PDF-only Web 0.5 repositories, at
least in Queensland.</p>
</li>
<li>
<p>Automatic embedding of metadata and license in the PDF file in XMP
format, based on some work which is apparently going on in
collaboration between QUT and an Australian Government agency.</p>
</li>
<li>
<p>A lightweight complete open source repository package with Squire
for deposit plus <a href="http://ptsefton.com/2008/06/27/tim-mccallum-shows-off-sun-of-fedora.htm">Sun Of
Fedora</a>
as a portal. Not a lot of features, or complexity, just the basics.</p>
</li>
</ol>
<hr>
<div style="font-size: .9em;">
<p><span class="footnote"></span>
<a href="#ftn0-text">1</a> If you don't want to read about repositories, I
recommend Bike Snob NYC. Which prominent fast but not fast enough
Australian cyclist was he talking about last week?</p>
<blockquote>
<p>Firstly, there was Saunier Duval's impressive one-two finish, proving
once again that there is no &quot;I&quot; in &quot;team.&quot; (Though there is a &quot;moi&quot; in
&quot;chamois.&quot;) Secondly, ___ ____ (whose collarbones are only
intact after yesterday's crash because they have both been replaced by
titanium) proved he is in fact a great stage racer by taking the
Maillot Jaune by one second. (Anybody can blast his way up a
mountainside in a distateful display of power, but it takes a certain
dignified restraint to sidle up behind people and pilfer seconds the
way ___ does, like an uninvited party guest nabbing cocktail
weiners.)</p>
<p><a href="http://bikesnobnyc.blogspot.com/2008/07/rest-day-roundup-stealing-seconds-and.html">http://bikesnobnyc.blogspot.com/2008/07/rest-day-roundup-stealing-seconds-and.html</a></p>
</blockquote>
</span>
</div>
<div style="font-size: .9em;">
<p><span class="footnote"><a href="#ftn1-text">2</a> Bron Chandler points out that
there is some potential for <a href="http://en.wikipedia.org/wiki/Recursive_acronym">recursive
naming</a> in the tradition
of GNU and HURD. Alfred Pennyworth is sometime know as Batman's batman.
What would VALET's nemesis be called? Do valets have nemeses? Do nemeses
have valets?</span></p>
</div>
</div>
</div>

    </div><script src="https://utteranc.es/client.js"
            repo="ptsefton/blog-comments"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>  
    </script></body>
</html>