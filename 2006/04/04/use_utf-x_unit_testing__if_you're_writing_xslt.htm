<!DOCTYPE html>
<html lang="en"
>
<head>
    <title>Use UTF-X unit testing if you're writing XSLT - ptsefton.com</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="../../../2006/04/04/use_utf-x_unit_testing__if_you're_writing_xslt.htm">

        <meta name="author" content="Peter (Petie) Sefton" />
        <meta name="description" content="While unit testing is a good idea when you&#39;re programming in any language that supports it, it&#39;s a really really good idea in XSLT, which, for most of us is an odd programming paradigm, with hard-to follow code. I wrote about unit testing for XSLT last year and the year …" />

        <meta property="og:site_name" content="ptsefton.com" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Use UTF-X unit testing if you&#39;re writing XSLT"/>
        <meta property="og:url" content="../../../2006/04/04/use_utf-x_unit_testing__if_you're_writing_xslt.htm"/>
        <meta property="og:description" content="While unit testing is a good idea when you&#39;re programming in any language that supports it, it&#39;s a really really good idea in XSLT, which, for most of us is an odd programming paradigm, with hard-to follow code. I wrote about unit testing for XSLT last year and the year …"/>
        <meta property="article:published_time" content="2006-04-04" />
            <meta property="article:section" content="misc" />
            <meta property="article:author" content="Peter (Petie) Sefton" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="../../../theme/css/bootstrap.min.css" type="text/css"/>
    <link href="../../../theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="../../../theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../theme/css/style.css" type="text/css"/>

        <link href="../../../feed/atom" type="application/atom+xml" rel="alternate"
              title="ptsefton.com ATOM Feed"/>
 

<!-- VIA -->
<!-- http://work.smarchal.com/twbscolor/css/e74c3cc0392becf0f1ffbbbc0 -->
<!-- -->
<style>

figure {
   margin-bottom: 30px;
}

blockquote {
font-size: 14px;
background-color: #FF0;
}

/* unvisited link */
a:link {
    color: #FF00FF;
}

/* visited link */
a:visited {
    color: #FF00AA;
}

/* mouse over link */
a:hover {
    color: #FF00AA;
}

/* selected link */
a:active {
    color: #0000FF;
}


.navbar-default {
  background-color: #ff00ff;
  border-color: #b72bc0;
}
.navbar-default .navbar-brand {
  color: #ffff00;
}
.navbar-default .navbar-brand:hover, .navbar-default .navbar-brand:focus {
  color: #ffff00;
}
.navbar-default .navbar-text {
  color: #ffff00;
}
.navbar-default .navbar-nav > li > a {
  color: #ffff00;
}
.navbar-default .navbar-nav > li > a:hover, .navbar-default .navbar-nav > li > a:focus {
  color: #ffff00;
}
.navbar-default .navbar-nav > .active > a, .navbar-default .navbar-nav > .active > a:hover, .navbar-default .navbar-nav > .active > a:focus {
  color: #ffff00;
  background-color: #b72bc0;
}
.navbar-default .navbar-nav > .open > a, .navbar-default .navbar-nav > .open > a:hover, .navbar-default .navbar-nav > .open > a:focus {
  color: #ffff00;
  background-color: #b72bc0;
}
.navbar-default .navbar-toggle {
  border-color: #b72bc0;
}
.navbar-default .navbar-toggle:hover, .navbar-default .navbar-toggle:focus {
  background-color: #b72bc0;
}
.navbar-default .navbar-toggle .icon-bar {
  background-color: #ffff00;
}
.navbar-default .navbar-collapse,
.navbar-default .navbar-form {
  border-color: #ffff00;
}
.navbar-default .navbar-link {
  color: #ffff00;
}
.navbar-default .navbar-link:hover {
  color: #ffff00;
}

@media (max-width: 767px) {
  .navbar-default .navbar-nav .open .dropdown-menu > li > a {
    color: #ffff00;
  }
  .navbar-default .navbar-nav .open .dropdown-menu > li > a:hover, .navbar-default .navbar-nav .open .dropdown-menu > li > a:focus {
    color: #ffff00;
  }
  .navbar-default .navbar-nav .open .dropdown-menu > .active > a, .navbar-default .navbar-nav .open .dropdown-menu > .active > a:hover, .navbar-default .navbar-nav .open .dropdown-menu > .active > a:focus {
    color: #ffff00;
    background-color: #b72bc0;
  }
}
</style>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-898010-1', 'auto');
  ga('send', 'pageview');

</script>
</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="../../../" class="navbar-brand">
ptsefton.com            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav" role="menu">
 
                    <li><a href="/">HOME</a></li>
 
                    <li><a href="/cv/">CV</a></li>





		    
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="../../../archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">

    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="../../../2006/04/04/use_utf-x_unit_testing__if_you're_writing_xslt.htm"
                       rel="bookmark"
                       title="Permalink to Use UTF-X unit testing if you're writing XSLT">
                        Use UTF-X unit testing if you're writing XSLT
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2006-04-04T00:00:00+02:00"> Tue 04 April 2006</time>
    </span>



    
</footer><!-- /.post-info -->                    </div>
                </div>
                <div>
<p>While unit testing is a good idea when you're programming in any
language that supports it, it's a really really good idea in XSLT,
which, for most of us is an odd programming paradigm, with hard-to
follow code.</p>
<p>I wrote about unit testing for XSLT <a href="http://ptsefton.com/blog/2005/08/16/unit_testing_for_xslt">last
year</a> and the
<a href="http://ptsefton.com/blog/2004/05/17/xslt_unit_testing">year before</a>.</p>
<p>(If you're a manager, get all your programmers to use unit tests
everywhere they can, or write you an essay explaining why not. I'll mark
the essay for you at standard rates for casual marking.)</p>
<p>At the <a href="http://rubric.usq.edu.au/">RUBRIC project</a> we are dealing with a
lot of metadata and configuration files, mostly in XML. We expect to be
doing lots of transformations between XML formats as we begin to look at
interoperability for <a href="http://en.wikipedia.org/wiki/Institutional_repository">Institutional
Repositories</a>.</p>
<p>This week we had to transform a file containing the Australian Standard
Research Classification
(<a href="http://www.abs.gov.au/AUSSTATS/abs@.nsf/66f306f503e529a5ca25697e0017661f/2d3b6b2b68a6834fca25697e0018fb2d%21OpenDocument">ASRC</a>)
subject codes from one XML format into another. Even though this was a
probably a run-once bit of code, using Jacek Radajewski's
<a href="http://utf-x.sourceforge.net/">UTF-X</a> unit-testing system helped a lot.</p>
<p>Technical officer Corey Wallis installed UTF-X, which is a minor
challenge 'cos it's Java and you have to fiddle around with paths and so
on, then we sat down with the other techie, Caroline Ayers and worked
through a process that involved five tests:</p>
<ol>
<li>
<p>Write the first trivial test – the root element gets mapped.</p>
<ul>
<li>
<p>Test fails, as expected because there is no XSLT yet.</p>
</li>
<li>
<p>Write a trivial bit of XSLT to do the transform.</p>
</li>
<li>
<p>Test it.</p>
</li>
<li>
<p>It works!</p>
<p>(I told the team we were supposed to shout w00t and do high
fives and stuff, but they looked at me with the 'get back to
work' look)</p>
</li>
</ul>
</li>
<li>
<p>Write test number two, to include more nodes inside the first one.</p>
<ul>
<li>
<p>Test fails. Write some code.</p>
</li>
<li>
<p>Test passes!</p>
</li>
<li>
<p>Oops – broke test number one.</p>
</li>
<li>
<p>Fix it.</p>
</li>
<li>
<p>Both pass</p>
</li>
</ul>
</li>
<li>
<p>And so on...</p>
</li>
</ol>
<p>All up it took about an hour and a half of coding, which included a fair
bit of the long-suffering technical officers politely listening from to
my XSLT war stories and my test-first rantings.</p>
<p>The result is much more useful to us than a stand-alone bit of XSLT,
though because we have those five tests that will be there if we need to
change the system, or recycle it in some way. It's only five because the
input is a single fixed file – if you're looking at variable input you
would need a lot more to test for potential problems.</p>
<p>We'll publish the files and our work in due course.</p>
<p>There's another XSLT framework called <a href="http://juxy.tigris.org/">Juxy</a>
about which I know nothing, but I do know that UTF-X is worth using if
you write any amount of XSLT. When I wrote the first cut of an
OpenOffice.org to XHTML transform which is now part of the <a href="http://www.ice.usq.edu.au/">ICE
project</a> I simply couldn't have done it
without unit tests; the algorithm is too fiddly and XSLT too fragile to
work effectively without a tightly-woven net of tests, which you can see
<a href="http://ice.usq.edu.au/browser/ice/trunk/apps/xhtml-export/test/">at the ICE
site</a>.</p>
<p>So, use UTF-X and send your feedback to Jacek so he can keep making it
better.</p>
</div>

            </div>
            <!-- /.entry-content -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'ptsefton'; // required: replace example with your forum shortname

                    var disqus_identifier = 'use_utf-x_unit_testing__if_you're_writing_xslt';
                var disqus_url = 'http://ptsefton.com/2006/04/04/use_utf-x_unit_testing__if_you're_writing_xslt.htm';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>

<section class="well well-sm">
    <ul class="list-group list-group-flush">


            <li class="list-group-item"><a href="../../../"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Categories</span></h4></a>
                <ul class="list-group" id="categories">
                    <li class="list-group-item">
                        <a href="../../../category/arkisto-platform.html">
                            <i class="fa fa-folder-open fa-lg"></i> Arkisto Platform
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../../../category/data-packaging-standards.html">
                            <i class="fa fa-folder-open fa-lg"></i> Data Packaging Standards
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../../../category/datacrate.html">
                            <i class="fa fa-folder-open fa-lg"></i> DataCrate
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../../../category/datacrate-repositories-eresearch.html">
                            <i class="fa fa-folder-open fa-lg"></i> DataCrate, Repositories, eResearch
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../../../category/eresearch.html">
                            <i class="fa fa-folder-open fa-lg"></i> eResearch
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../../../category/file-data-capture.html">
                            <i class="fa fa-folder-open fa-lg"></i> File Data Capture
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../../../category/housekeeping.html">
                            <i class="fa fa-folder-open fa-lg"></i> Housekeeping
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../../../category/how-to.html">
                            <i class="fa fa-folder-open fa-lg"></i> How to
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../../../category/jiscpub.html">
                            <i class="fa fa-folder-open fa-lg"></i> jiscPUB
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../../../category/misc.html">
                            <i class="fa fa-folder-open fa-lg"></i> misc
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../../../category/repositories.html">
                            <i class="fa fa-folder-open fa-lg"></i> Repositories
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../../../category/scholarlyhtml.html">
                            <i class="fa fa-folder-open fa-lg"></i> ScholarlyHTML
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../../../category/word-processing.html">
                            <i class="fa fa-folder-open fa-lg"></i> Word Processing
                        </a>
                    </li>
                </ul>
            </li>

    <li class="list-group-item"><h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
      <ul class="list-group" id="links">
        <li class="list-group-item">
            <a href="http://uts.edu.au/" target="_blank">
                Work
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://ukulelecircus.com/" target="_blank">
                Play
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://twitter.com/ptsefton" target="_blank">
                Twitter: @ptsefton
            </a>
        </li>
        <li class="list-group-item">
            <a href="https://www.flickr.com/photos/25201123@N03/" target="_blank">
                Photos
            </a>
        </li>
      </ul>
    </li>
    </ul>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
       
      <div class="col-xs-10">
      <p>This site is hosted by <a
      href='https://www.webfaction.com/?aid=2969'>webfaction</a>, and has
      been since 2004, with no problems whatsoever, and steadily
      decreasing cost. If you <a
      href='https://www.webfaction.com/?aid=2969'>sign up</a> I can
      get a small discount on my hosting.</p>
        

	&copy; 2020 Peter (Petie) Sefton
	     
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="../../../theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="../../../theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="../../../theme/js/respond.min.js"></script>

    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'ptsefton'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->

</body>
</html>